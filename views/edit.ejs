<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìŠ¬ê¸°ë¡œìš´ ì·¨ë¯¸ìƒí™œ</title>
    <link rel="stylesheet" href="../style.css" type="text/css" />
  </head>

  <body>
    <%- include('title.ejs') %>

    <section>
      <article>
        <h2>ê²Œì‹œê¸€ ìˆ˜ì • ğŸ“</h2>

        <form id="form-container" action="/edit" method="post" enctype="multipart/form-data">
          <div class="sign-form">
            <label for="title">ì‚¬ì§„</label>
            <div id="hobby-img">
              <img src="../<%= data.image %>" width="200" height="200" alt="ì´ë¯¸ì§€ ì—†ìŒ" />
            </div>
          </div>

          <div class="image-btn">
            <input id="image" name="image" type="file" accept="image/*" onchange="loadFile(this)" />
          </div>

          <div class="sign-form">
            <label for="title">ì œëª©</label>
            <input id="title" name="title" type="text" value="<%= data.title %>"/>
          </div>

          <div class="sign-form">
            <label for="content">ë‚´ìš©</label>
            <textarea id="content" name="content"><%= data.content %></textarea>
          </div>
          <input type="text" name="id" value="<%= data._id %>" style="display: none;">
          <button class="sign-btn" type="submit">ìˆ˜ì •í•˜ê¸°</button>
        </form>
      </article>
    </section>

    <script>
      function loadFile(input) {
        const file = input.files[0];

        const imageContainer = document.getElementById("hobby-img");
        imageContainer.innerHTML = ""; // ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸° ì „ì— ê¸°ì¡´ì˜ ë‚´ìš© ë¹„ìš°ê¸°
        imageContainer.style.backgroundColor = "transparent";

        const img = document.createElement("img");
        img.src = URL.createObjectURL(file);
        img.style.width = "200px";
        img.style.height = "200px";
        imageContainer.appendChild(img);
      }
    </script>
  </body>
</html>
